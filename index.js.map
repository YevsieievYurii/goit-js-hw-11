{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// import axios from 'axios';\n\n// const API_KEY = '48924645-79e9b00d1f962ef58b63a0249';\n// // const BASE_URL = 'https://pixabay.com/api/';\n\n// export async function fetchImages(query, page = 1) {\n//     try {\n//     const response = await axios.get(BASE_URL, {\n//         params: {\n//         key: API_KEY,\n//         q: query,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: true,\n//         per_page: 12,\n//         page,\n//         },\n//     });\n\n//     return response.data;\n//     } catch (error) {\n//     console.error('Помилка при отриманні зображень:', error);\n//     throw error;\n//     }\n// }\n\n// pixabay-api.js\nimport axios from 'axios';\n\nconst API_KEY = '48924645-79e9b00d1f962ef58b63a0249';  // Замініть на ваш ключ API\n\nexport async function fetchImages(query, page = 1) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=24&page=${page}`;\n  \n  try {\n    const response = await axios.get(url);\n    if (response.data.hits.length === 0) {\n      throw new Error('No images found');\n    }\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","// export function createImageMarkup(images) {\n//     return images\n//         .map(\n//         ({ webformatURL, largeImageURL, tags }) => `\n//         <div class=\"photo-card\">\n//         <a href=\"${largeImageURL}\" target=\"_blank\">\n//         <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n//         </a>\n//         </div>`\n//         )\n//         .join('');\n//     }\n\n//     export function renderImages(container, markup) {\n//     container.innerHTML = markup;\n//     }\n\n// render-functions.js\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Відображаємо картки зображень\nexport function renderImageGallery(images) {\nconst gallery = document.querySelector('.gallery');\n  gallery.innerHTML = ''; // очищуємо галерею перед додаванням нових елементів\n\nimages.forEach(image => {\n    const imgCard = `\n    <a href=\"${image.largeImageURL}\" class=\"gallery__item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery__image\" />\n    </a>\n    `;\n    gallery.insertAdjacentHTML('beforeend', imgCard);\n});\n\n  // Оновлюємо бібліотеку SimpleLightbox\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\n// Відображення повідомлення про помилку\nexport function showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\n// Відображення індикатора завантаження\nexport function showLoadingIndicator() {\n  const loading = document.querySelector('.loading');\n  loading.classList.remove('hidden');\n}\n\n// Сховати індикатор завантаження\nexport function hideLoadingIndicator() {\n  const loading = document.querySelector('.loading');\n  loading.classList.add('hidden');\n}\n\n// Повідомлення, якщо зображень не знайдено\nexport function showNoResultsMessage() {\n  iziToast.info({\n    title: 'No Results',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n\n","// import { fetchImages } from './js/pixabay-api.js';\n// import { createImageMarkup, renderImages } from './js/render-functions.js';\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import SimpleLightbox from \"simplelightbox\";\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n// const form = document.querySelector('#search-form');\n// const gallery = document.querySelector('.gallery');\n\n// form.addEventListener('submit', async event => {\n//     event.preventDefault();\n\n//     const query = event.target.elements.searchQuery.value.trim();\n//     if (!query) {\n//     iziToast.error({\n//         title: 'Помилка',\n//         message: 'Поле пошуку не може бути порожнім!',\n//         position: 'topRight',\n//     });\n//     return;\n//     }\n\n//     try {\n//     const data = await fetchImages(query);\n\n//     if (data.hits.length === 0) {\n//         iziToast.warning({\n//         title: 'Упс...',\n//         message: 'Sorry, there are no images matching your search query. Please try again!',\n//         position: 'topRight',\n//         });\n//         return;\n//     }\n\n//     const markup = createImageMarkup(data.hits);\n//     renderImages(gallery, markup);\n//     } catch (error) {\n//     iziToast.error({\n//         title: 'Помилка',\n//         message: 'Щось пішло не так. Спробуйте ще раз!',\n//         position: 'topRight',\n//     });\n//     }\n// });\n\n\n\n\n// iziToast.info({\n//     title: 'Hello',\n//     message: 'Welcome!',\n// });\n\n// main.js\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImageGallery, showLoadingIndicator, hideLoadingIndicator, showError, showNoResultsMessage } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('#search-form');\nconst searchInput = document.querySelector('.search-input');\n\n// Обробка сабміту форми\nsearchForm.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  const query = searchInput.value.trim();\n  if (!query) {\n    alert('Please enter a search term.');\n    return;\n  }\n\n  try {\n    showLoadingIndicator();  // Показуємо індикатор завантаження\n    const images = await fetchImages(query);\n    renderImageGallery(images);  // Відображаємо зображення\n  } catch (error) {\n    if (error.message === 'No images found') {\n      showNoResultsMessage();  // Показуємо повідомлення, якщо зображення не знайдено\n    } else {\n      showError('Something went wrong! Please try again later.');  // Помилка при запиті\n    }\n  } finally {\n    hideLoadingIndicator();  // Приховуємо індикатор завантаження\n  }\n});\n"],"names":["API_KEY","fetchImages","query","page","url","response","axios","error","renderImageGallery","images","gallery","image","imgCard","SimpleLightbox","showError","message","iziToast","showLoadingIndicator","hideLoadingIndicator","showNoResultsMessage","searchForm","searchInput","event"],"mappings":"+vBA6BA,MAAMA,EAAU,qCAET,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CACjD,MAAMC,EAAM,gCAAgCJ,CAAO,MAAME,CAAK,6EAA6EC,CAAI,GAE/I,GAAI,CACF,MAAME,EAAW,MAAMC,EAAM,IAAIF,CAAG,EACpC,GAAIC,EAAS,KAAK,KAAK,SAAW,EAChC,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,EAAS,KAAK,IACtB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCpBO,SAASC,EAAmBC,EAAQ,CAC3C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC/CA,EAAQ,UAAY,GAEtBD,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAU;AAAA,eACLD,EAAM,aAAa;AAAA,oBACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,MAGtDD,EAAQ,mBAAmB,YAAaE,CAAO,CACnD,CAAC,EAGkB,IAAIC,EAAe,YAAY,EACvC,QAAO,CAClB,CAGO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CAGO,SAASE,GAAuB,CACrB,SAAS,cAAc,UAAU,EACzC,UAAU,OAAO,QAAQ,CACnC,CAGO,SAASC,GAAuB,CACrB,SAAS,cAAc,UAAU,EACzC,UAAU,IAAI,QAAQ,CAChC,CAGO,SAASC,GAAuB,CACrCH,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,0EACb,CAAG,CACH,CCRA,MAAMI,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EAG1DD,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACrDA,EAAM,eAAc,EAEpB,MAAMpB,EAAQmB,EAAY,MAAM,KAAI,EACpC,GAAI,CAACnB,EAAO,CACV,MAAM,6BAA6B,EACnC,MACD,CAED,GAAI,CACFe,IACA,MAAMR,EAAS,MAAMR,EAAYC,CAAK,EACtCM,EAAmBC,CAAM,CAC1B,OAAQF,EAAO,CACVA,EAAM,UAAY,kBACpBY,IAEAL,EAAU,+CAA+C,CAE/D,QAAY,CACRI,GACD,CACH,CAAC"}